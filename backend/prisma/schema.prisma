generator client {
  provider               = "prisma-client"
  engineType             = "client"
  output                 = "../src/generated/prisma"
  runtime                = "nodejs"
  moduleFormat           = "esm"
  generatedFileExtension = "ts"
  importFileExtension    = "ts"
}

datasource db {
  provider = "sqlite"
}

model User {
  id   Int    @id @default(autoincrement())
  name String

  githubUserId    Int    @unique
  githubUserLogin String @unique

  sessions Session[]
}

model Session {
  id     Int    @id @default(autoincrement())
  token  String @unique
  user   User   @relation(fields: [userId], references: [id])
  userId Int
}

model Quiz {
  id             Int            @id @default(autoincrement())
  githubUserId   Int
  questions      QuizQuestion[]
  owner          String
  repo           String
  issueNumber    Int
  prName         String
  installationId Int
}

model QuizQuestion {
  id Int @id @default(autoincrement())

  quiz   Quiz @relation(fields: [quizId], references: [id])
  quizId Int

  questionText String

  /// An array of answer choices formatted as strings
  answerChoices Json
}
